<!DOCTYPE html> <html lang=" en "><head> <meta charset="utf-8" /> <title> Installing or Removing Letsencrypt SSL Certificate in AWS hosted Bitnami Nginx -hack4r </> </title> <meta http-equip="X-UA-Compatible" content="IE=edge" /> <meta name="viewport" content="width=device-width, initial-scale=1" /> <meta name="description" content="Learn how to install or remove letsencrypt ssl certificate using AWS Bitnami Nginx- Installing or Removing Letsencrypt SSL Certificate in AWS hosted Bitnami Nginx"> <meta name="keywords" content="Installing or Removing Letsencrypt SSL Certificate in AWS hosted Bitnami Nginx, hack4r </>, aws, nginx,jekyll blog,github pages,deploy using travis ci"/> <link rel="alternate" type="application/rss+xml" title="RSS" href="/feed.xml" /> <meta content="" property="fb:app_id" /> <meta content="hack4r </>" property="og:site_name" /> <meta content="Installing or Removing Letsencrypt SSL Certificate in AWS hosted Bitnami Nginx" property="og:title" /> <meta content="article" property="og:type" /> <meta content="Learn how to install or remove letsencrypt ssl certificate using AWS Bitnami Nginx" property="og:description" /> <meta content="/blog/installing-or-removing-letsencrypt-ssl-certificate-bitnami-nginx/" property="og:url" /> <meta content="2020-10-29T09:05:23+00:00" property="article:published_time" /> <meta content="/about/" property="article:author" /> <meta content="/assets/img/posts/code.jpg" property="og:image" /> <meta content="aws" property="article:section" /> <!-- Twitter Cards --> <meta name="twitter:card" content="summary" /> <meta name="twitter:site" content="@" /> <meta name="twitter:creator" content="@" /> <meta name="twitter:title" content="Installing or Removing Letsencrypt SSL Certificate in AWS hosted Bitnami Nginx" /> <meta name="twitter:url" content="/blog/installing-or-removing-letsencrypt-ssl-certificate-bitnami-nginx/" /> <meta name="twitter:description" content="Learn how to install or remove letsencrypt ssl certificate using AWS Bitnami Nginx" /> <link rel="stylesheet" href="/assets/css/main.css" /> <!-- <link rel="stylesheet" href="/assets/css/custom-style.css" /> --> <link rel="stylesheet" href="/assets/bower_components/lightgallery/dist/css/lightgallery.min.css" /> <link rel="stylesheet" href="/assets/bower_components/bootstrap/dist/css/bootstrap.min.css" /> <link rel="stylesheet" href="/assets/bower_components/font-awesome/web-fonts-with-css/css/fontawesome-all.min.css" /> <link rel="stylesheet" href="/assets/bower_components/icono/dist/icono.min.css" /> <!-- Fonts--> <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet" /> <!-- Favicon --> <link rel="icon" href="/assets/img/favicon.ico" type="image/gif" sizes="16x16" /> <script> var base_url = '' ; </script> <!-- Jquery --> <script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha384-vk5WoKIaW/vJyUAd9n/wmopsmNhiy+L2Z+SBxGYnUkunIxVxAv/UtMOhba/xskxh" crossorigin="anonymous" ></script> <!-- <script src="/assets/bower_components/jquery/dist/jquery.min.js"></script> --> <script src="/assets/bower_components/jquery.easing/jquery.easing.min.js"></script> <script src="/assets/bower_components/bootstrap/dist/js/bootstrap.bundle.min.js"></script> <script src="/assets/bower_components/jquery-mousewheel/jquery.mousewheel.min.js"></script> <script src="/assets/bower_components/ghosthunter/dist/jquery.ghostHunter.min.js"></script> <script src="/assets/bower_components/lightgallery/dist/js/lightgallery-all.min.js"></script> <script src="https://cdnjs.cloudflare.com/ajax/libs/picturefill/3.0.2/picturefill.min.js"></script> <script src="/assets/bower_components/imagesloaded/imagesloaded.pkgd.min.js"></script> <script src="/assets/bower_components/nanobar/nanobar.min.js"></script> <script src="/assets/bower_components/typewrite/dist/typewrite.min.js"></script> <script src="/assets/js/search.js"></script> <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.20.1/moment.min.js"></script> <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script> <!-- for Mathjax support --> <!-- Github Button --> <script async defer src="https://buttons.github.io/buttons.js"></script> <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous" ></script> <!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]--> <!--[if IE 7]> <html class="no-js lt-ie9 lt-ie8"> <![endif]--> <!--[if IE 8]> <html class="no-js lt-ie9"> <![endif]--> <!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]--> </head> <body> <nav class="navbar navbar-expand-lg fixed-top navbar-dark" id="topNav"> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation" > <span class="icono-hamburger" id="navbar-hamburger"> </span> </button> <a class="navbar-brand" href="https://hack4r.com">hack4r </></a> <div class="collapse navbar-collapse" id="navbarNav"> <ul class="navbar-nav"> <li class="nav-item"> <a class="nav-link" href="/" >Home</a > </li> <li class="nav-item"> <a class="nav-link" href="/blog" >Blog</a > </li> </ul> </div> <ul class="nav justify-content-end"> <li class="nav-item"> <a class="nav-link toggle-search-button" href="#search"> <i class="fa fa-search search-icon" aria-hidden="true"></i> </a> </li> <!-- <li class="nav-item"> <input class="nav-link switch" id="theme-toggle" onclick="modeSwitcher() " type="checkbox" name="checkbox" /> </li> --> </ul> </nav> <!-- Search Form --> <div class="search-form-container"> <form class="search-form"> <fieldset class="search-form__fieldset"> <div class="row"> <div class="col-lg-8 offset-md-2"> <input class="search-form__field" placeholder="Type to Search..." autofocus> <input class="search-form__submit" type="submit" value="search"> </div> </div> </fieldset> </form> <div class="row"> <div class="col-lg-8 offset-md-2 search-results"> <div class="card search-results"></div> </div> </div> <div class="close-search-button search-form-container__close"> <i class="fa fa-times icon"></i> </div> </div><div class="col-lg-12"> <div class="row" id="blog-post-container"> <div class="col-lg-8 offset-md-2"><article class="card" itemscope itemtype="http://schema.org/BlogPosting"> <div class="card-header"> <h1 class="post-title" itemprop="name headline">Installing or Removing Letsencrypt SSL Certificate in AWS hosted Bitnami Nginx</h1> <h4 class="post-meta">Learn how to install or remove letsencrypt ssl certificate using AWS Bitnami Nginx</h4> <p class="post-summary"> Posted by : <span itemprop="author" itemscope itemtype="http://schema.org/Person"> <span itemprop="name"><a href="/blog/authors/xplor4r">xplor4r</a></span> </span > at <time datetime="2020-10-29 09:05:23 +0000" itemprop="datePublished" >Oct 29, 2020</time > </p> <span class="disqus-comment-count" data-disqus-identifier="/blog/installing-or-removing-letsencrypt-ssl-certificate-bitnami-nginx/" ></span> <div class="post-categories"> Category : <a href="/blog/categories/aws" >aws</a > &nbsp; <a href="/blog/categories/nginx" >nginx</a > </div> </div> <div class="card-body" itemprop="articleBody"> <img class="card-img-top" src="/assets/img/posts/code.jpg" alt="" /> <br /> <br /> <p>In this article, we will look in to how to create ssl certificate using Letsencrypt in Bitnami Nginx containers hosted at AWS</p> <h2 id="lets-encrypt-certificate-generation">Let’s Encrypt certificate generation</h2> <p>WordPress with NGINX and SSL comes with a ready-to-use script that takes care of generating the Let’s Encrypt certificates to secure your application. It will also modify the configuration of the Web server so you do not need to worry about editing the files or restarting it.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo</span> /opt/bitnami/letsencrypt/scripts/generate-certificate.sh <span class="nt">-m</span> YOURMAIL <span class="nt">-d</span> YOURDOMAIN
</code></pre></div></div> <blockquote> <p><strong>NOTE</strong>: Remember that both YOURMAIL and YOURDOMAIN are placeholders. Replace them with your current email and with the new domain name you want to set.</p> </blockquote> <blockquote> <p><strong>NOTE</strong>: You can use multiple domains specifying the <em>-d</em> option as many times as domains you want to specify. When supplying multiple domains, Lego creates a SAN (Subject Alternate Names) certificate which results in only one certificate valid for all domains you entered. The first domain in your list will be added as the “CommonName” of the certificate and the rest, will be added as “DNSNames” to the SAN extension within the certificate.</p> </blockquote> <p>You can follow this section of the <a href="https://docs.bitnami.com/general/apps/wordpress-pro/administration/generate-configure-certificate-letsencrypt/">Bitnami documentation</a> to get more information about how to use this certificate.</p> <p>So it created the certificate. But for some reasons, there was a mismatch for I created a new certificate using the same command for www.YOURDOMAIN.com</p> <p>so this led to the problem of certificate mismatch problem between YOURDOMAIN and WWW.YOURDOMAIN.COM. For this issue i checked the DNS for what caused the problems,but Route 53 config seemed fine :</p> <h3 id="create-hosted-zones">Create Hosted Zones</h3> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1.Record name - YOURDOMAIN.com
Type - A
Alias yes
value/Route traffice to www.YOURDOMAIN.com.

2.Record name - YOURDOMAIN.com
Type - NS
Alias No
Value/Route traffic to :

ns-285.awsdns-35.com.
ns-1883.awsdns-43.co.uk.
ns-1323.awsdns-37.org.
ns-828.awsdns-39.net.

TTL seconds -300

3. Record name - www.YOURDOMAIN.com
Type - A
Alias No
Value/Route traffic to
52.91.160.175
TTL seconds -300
</code></pre></div></div> <p>So, this seemed fine !</p> <p>So the next step, I thought I should remove the current certificate and reinstall it again, as maybe i forgot or might have missed something while generating the certificate.</p> <p>I delete the generated certificates by :</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">rm</span> <span class="nt">-rf</span> /opt/bitnami/letsencrypt<span class="sb">`</span>
</code></pre></div></div> <p>also</p> <p>I did inside /opt/bitnami/nginx/conf</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo rm</span> <span class="nt">-rf</span> yourdomain.com.key yourdomain.com.crt www.yourdomain.com.key www.yourdomain.com.crt
</code></pre></div></div> <p>This was a huge mistake !</p> <p>I forgot to take a backup of the letsencrypt folder, it had the generate-certificate script too ! which got deleted - unfortunately. And when I tried to restart the services, it was throwing errors.</p> <p>The default SSL certificate provided by bitnami was also deleted, so i tried creating them again using OpenSSL https://docs.bitnami.com/aws/apps/wordpress-pro/administration/create-ssl-certificate-nginx/</p> <p>But that dint work , halfthe way server crashed. (Nginx died!)</p> <h3 id="reinstalling-the-certificates">Reinstalling the certificates</h3> <blockquote> <ol> <li>Installing lego and the generation of new certificates also renewing the certificate.</li> </ol> </blockquote> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">cd</span> /tmp
<span class="nv">$ </span>curl <span class="nt">-Ls</span> https://api.github.com/repos/xenolf/lego/releases/latest | <span class="nb">grep </span>browser_download_url | <span class="nb">grep </span>linux_amd64 | <span class="nb">cut</span> <span class="nt">-d</span> <span class="s1">'"'</span> <span class="nt">-f</span> 4 | wget <span class="nt">-i</span> -
<span class="nv">$ </span><span class="nb">tar </span>xf lego_vX.Y.Z_linux_amd64.tar.gz
<span class="nv">$ </span><span class="nb">sudo mkdir</span> <span class="nt">-p</span> /opt/bitnami/letsencrypt
<span class="nv">$ </span><span class="nb">sudo mv </span>lego /opt/bitnami/letsencrypt/lego
</code></pre></div></div> <blockquote> <ol> <li>Generate A Let’s Encrypt Certificate For Your Domain</li> </ol> </blockquote> <p>Remember don’t put –domains=”WWW.DOMAIN.COM” again , it should automatically be handled in the second command below:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo</span> /opt/bitnami/ctlscript.sh stop
<span class="nv">$ </span><span class="nb">sudo</span> /opt/bitnami/letsencrypt/lego <span class="nt">--tls</span> <span class="nt">--email</span><span class="o">=</span><span class="s2">"EMAIL-ADDRESS"</span> <span class="nt">--domains</span><span class="o">=</span><span class="s2">"DOMAIN"</span> <span class="nt">--path</span><span class="o">=</span><span class="s2">"/opt/bitnami/letsencrypt"</span> run
</code></pre></div></div> <blockquote> <p><strong>NOTE</strong>: You can use more than one domain (for example, DOMAIN and www.DOMAIN) by specifying the –domains option as many times as the number of domains you want to specify. When supplying multiple domains, Lego creates a SAN (Subject Alternate Names) certificate which results in only one certificate valid for all domains you entered. The first domain in your list will be added as the “CommonName” of the certificate and the rest, will be added as “DNSNames” to the SAN extension within the certificate.</p> </blockquote> <blockquote> <p>3: Configure The Web Server To Use The Let’s Encrypt Certificate</p> </blockquote> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo ln</span> <span class="nt">-s</span> /opt/bitnami/letsencrypt/certificates/DOMAIN.crt /opt/bitnami/nginx/conf/server.crt
<span class="nv">$ </span><span class="nb">sudo ln</span> <span class="nt">-s</span> /opt/bitnami/letsencrypt/certificates/DOMAIN.key /opt/bitnami/nginx/conf/server.key
<span class="nv">$ </span><span class="nb">sudo chown </span>root:root /opt/bitnami/nginx/conf/server<span class="k">*</span>
<span class="nv">$ </span><span class="nb">sudo chmod </span>600 /opt/bitnami/nginx/conf/server<span class="k">*</span>
</code></pre></div></div> <p><strong>Restart</strong></p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo</span> /opt/bitnami/ctlscript.sh start
</code></pre></div></div> <blockquote> <p><strong>Note</strong> : To add one or more domains to an existing certificate, simply repeat Steps 2 and 3 again, ensuring the same order of domain names is maintained in the lego command and adding the new domain name(s) to the end with additional –domains arguments.</p> </blockquote> <p><img src="testing.png" alt="ssl-cert" title="ssl-configuration-letsencrypt-nginx-bitnami-aws" /></p> <blockquote> <ol> <li>Test Configuration</li> </ol> </blockquote> <p>Visit the site using https ! Should work now</p> <blockquote> <ol> <li>Renew The Let’s Encrypt Certificate</li> </ol> </blockquote> <p>Let’s Encrypt certificates are only valid for 90 days. To renew the certificate before it expires, run the following commands from the server console as the bitnami user. Remember to replace the DOMAIN placeholder with your actual domain name, and the EMAIL-ADDRESS placeholder with your email address.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo</span> /opt/bitnami/ctlscript.sh stop
<span class="nv">$ </span><span class="nb">sudo</span> /opt/bitnami/letsencrypt/lego <span class="nt">--tls</span> <span class="nt">--email</span><span class="o">=</span><span class="s2">"EMAIL-ADDRESS"</span> <span class="nt">--domains</span><span class="o">=</span><span class="s2">"DOMAIN"</span> <span class="nt">--path</span><span class="o">=</span><span class="s2">"/opt/bitnami/letsencrypt"</span> renew <span class="nt">--days</span> 90
<span class="nv">$ </span><span class="nb">sudo</span> /opt/bitnami/ctlscript.sh start
</code></pre></div></div> <p>To automatically renew your certificates before they expire, write a script to perform the above tasks and schedule a cron job to run the script periodically. To do this:</p> <blockquote> <p>Create a script at <strong>/opt/bitnami/letsencrypt/scripts/renew-certificate.sh</strong></p> </blockquote> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>nano /opt/bitnami/letsencrypt/scripts/renew-certificate.sh
</code></pre></div></div> <p>Enter the following content into the script and save it. Remember to replace the DOMAIN placeholder with your actual domain name, and the EMAIL-ADDRESS placeholder with your email address.</p> <p><strong>For NGINX</strong>:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/bash</span>

<span class="nv">$ </span><span class="nb">sudo</span> /opt/bitnami/ctlscript.sh stop nginx
<span class="nv">$ </span><span class="nb">sudo</span> /opt/bitnami/letsencrypt/lego <span class="nt">--tls</span> <span class="nt">--email</span><span class="o">=</span><span class="s2">"EMAIL-ADDRESS"</span> <span class="nt">--domains</span><span class="o">=</span><span class="s2">"DOMAIN"</span> <span class="nt">--path</span><span class="o">=</span><span class="s2">"/opt/bitnami/letsencrypt"</span> renew <span class="nt">--days</span> 90
<span class="nv">$ </span><span class="nb">sudo</span> /opt/bitnami/ctlscript.sh start nginx
</code></pre></div></div> <p>Make the script executable:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo chmod</span> +x /opt/bitnami/letsencrypt/scripts/renew-certificate.sh
</code></pre></div></div> <p>Execute the following command to open the crontab editor:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>crontab <span class="nt">-e</span>
</code></pre></div></div> <p>Add the following lines to the crontab file and save it:</p> <p><code class="language-plaintext highlighter-rouge">0 0 1 * * /opt/bitnami/letsencrypt/scripts/renew-certificate.sh 2&gt; /dev/null</code></p> <p>NOTE: If renewing multiple domains, remember to update the /opt/bitnami/letsencrypt/renew-certificate.sh script to include the additional domain name(s) in the lego command.</p> <p>If Something fails :</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">rm</span> <span class="nt">-rf</span> /opt/bitnami/letsencrypt
</code></pre></div></div> <p>and do the process of creating symlinks :</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo</span> /opt/bitnami/ctlscript.sh restart
</code></pre></div></div> <p>If you created a cron job for certificate renewal, remove it by opening the crontab editor using the command below and removing the line added for the certificate renewal script:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>crontab <span class="nt">-e</span>
</code></pre></div></div> <p>Remove the cron jobs in the root and bitnami user’s cron table. Run the following commands and remove any lines/commands related to certificate renewal:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>crontab <span class="nt">-e</span>
<span class="nv">$ </span><span class="nb">sudo </span>crontab <span class="nt">-e</span> <span class="nt">-u</span> bitnami
</code></pre></div></div> <p>Modify the Web server configuration file to use the original (dummy) server.crt and server.key certificates.</p> <p>I had to change this for bitnami.conf:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>//opt/bitnami/nginx/conf/bitnami$ cat bitnami.conf

    # HTTP server

    server {
        listen       80;
        server_name  localhost;

        #include "/opt/bitnami/nginx/conf/bitnami/phpfastcgi.conf";

        include "/opt/bitnami/nginx/conf/bitnami/bitnami-apps-prefix.conf";
    }

    # HTTPS server

    server {
       listen       443 ssl;
       server_name  localhost;

        ssl_certificate  sujeetkiranastore.com.crt;
        ssl_certificate_key     sujeetkiranastore.com.key;

       ssl_session_cache    shared:SSL:1m;
       ssl_session_timeout  5m;

       ssl_ciphers  HIGH:!aNULL:!MD5;
       ssl_prefer_server_ciphers  on;

       #include "/opt/bitnami/nginx/conf/bitnami/phpfastcgi.conf";

       include "/opt/bitnami/nginx/conf/bitnami/bitnami-apps-prefix.conf";
    }


    include "/opt/bitnami/nginx/conf/bitnami/bitnami-apps-vhosts.conf";
</code></pre></div></div> <p>Restart the server:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo</span> /opt/bitnami/ctlscript.sh restart
</code></pre></div></div> <p>So then to redirect http to https. I have to give access to really simple ssl (plugin) to wp-config</p> <h3 id="changing-wordpress-permissions">Changing wordpress permissions:</h3> <p>I highly recommend you to do a server backup before running any command on your server so you can restore it to a known state in case you find any issue. You can have more information about how to backup your server using our guide at https://docs.bitnami.com/aws/faq/administration/backup-restore-server/115</p> <p>Regarding the plugin installation, you have to temporary set write permissions to both the wp-config file and the wp-config in order to install it, but we recommend you to set back the current permissions for security purposes. Follow the next steps to that.</p> <h3 id="give-write-permissions">Give write permissions</h3> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo chmod </span>660 /opt/bitnami/apps/wordpress/htdocs/wp-config.php
<span class="nv">$ </span><span class="nb">sudo chmod </span>777 /opt/bitnami/apps/wordpress/htdocs/wp-content
</code></pre></div></div> <p>Install the plugin , then restore original permissions</p> <p>Copy this:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo chmod </span>640 /opt/bitnami/apps/wordpress/htdocs/wp-config.php
<span class="nv">$ </span><span class="nb">sudo chmod </span>775 /opt/bitnami/apps/wordpress/htdocs/wp-content
</code></pre></div></div> <p>` Start all Bitnami services:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo</span> /opt/bitnami/ctlscript.sh start
</code></pre></div></div> <p>Some useful commands :</p> <h4 id="stop-bitnami-services">Stop Bitnami services</h4> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo</span> /opt/bitnami/ctlscript.sh stop
</code></pre></div></div> <h4 id="backup-dummy-ssl-certificates">Backup dummy SSL certificates</h4> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo mv</span> /opt/bitnami/nginx/conf/server.crt<span class="o">{</span>,.bck<span class="o">}</span>
<span class="nb">sudo mv</span> /opt/bitnami/nginx/conf/server.key<span class="o">{</span>,.bck<span class="o">}</span>
<span class="nb">sudo mv</span> /opt/bitnami/nginx/conf/server.csr<span class="o">{</span>,.bck<span class="o">}</span>
</code></pre></div></div> <h4 id="start-bitnami-services">Start Bitnami services</h4> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo</span> /opt/bitnami/ctlscript.sh start
</code></pre></div></div> <h4 id="restart-bitnami-services">Restart Bitnami services</h4> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo</span> /opt/bitnami/ctlscript.sh restart
</code></pre></div></div> <br /><!-- Load Facebook SDK for JavaScript --> <div id="fb-root"></div> <script> (function(d, s, id) { var js, fjs = d.getElementsByTagName(s)[0]; if (d.getElementById(id)) return; js = d.createElement(s); js.id = id; js.src = "https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v3.0"; fjs.parentNode.insertBefore(js, fjs); })(document, "script", "facebook-jssdk"); </script> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8" ></script> <div class="share-page"> <p class="share-text">Share this on &rarr;</p> <a href="https://twitter.com/share?ref_src=twsrc%5Etfw" class="twitter-share-button" data-size="large" data-show-count="false" style="margin-top:5px;" >Tweet</a > <a class="fb-share-button" data-href="/blog/installing-or-removing-letsencrypt-ssl-certificate-bitnami-nginx/" data-size="large" data-layout="button" >Share</a> </div><!-- Author box --> <div class="card"> <div class="card-header"> About Sujay kundu </div> <div class="card-body"> <div class="row"> <div class="col-md-4"> <img class="author-profile-img" src="/assets/img/authors/xplor4r.png" alt="Sujay kundu" /> </div> <div class="col-md-6"> <p class="author_bio">Full Stack Web Developer, based in Bangalore, India</p> <p>Email : mail@sujaykundu.com</p> <p>Website : https://sujaykundu.com</p> <p class="profile-links"> <a class="social-link" href="https://github.com/sujaykundu777" target="_blank"><i class="fab fa-github fa-fw"></i></a> <a class="social-link" href="https://www.linkedin.com/in/sujaykundu" target="_blank"><i class="fab fa-linkedin fa-fw"></i></a> <a class="social-link" href="https://www.youtube.com/channel/UCSfLBFFfNU9r6ihfei6VeJw" target="_blank"><i class="fab fa-youtube fa-fw"></i></a> <a class="social-link" href="https://www.facebook.com/sujay.kundu2" target="_blank"><i class="fab fa-facebook fa-fw"></i></a> </p> </div> </div> </div> </div> </div><div class="comments"><!-- Hyvor Comments. For more info visit https://talk.hyvor.com --> <div id="hyvor-talk-view"></div> <script type="text/javascript"> var HYVOR_TALK_WEBSITE = '476'; var HYVOR_TALK_CONFIG = { url: '/blog/installing-or-removing-letsencrypt-ssl-certificate-bitnami-nginx/', id: '/blog/installing-or-removing-letsencrypt-ssl-certificate-bitnami-nginx', palette: { accent: "#EB8E3F", accentText: "#080808", footerHeader: "#171616", footerHeaderText: "#656363", box: "#3A3A38", boxText: "#E0E0E0", boxLightText: "#AAAAAA", backgroundText: "#E0E0E0" } }; </script> <script async type="text/javascript" src="//talk.hyvor.com/web-api/embed"></script> </div><!-- Incomment incase you want to use Disqus <div id="disqus_thread"></div> --> </article> <script> var disqus_config = function () { this.page.url = "/blog/installing-or-removing-letsencrypt-ssl-certificate-bitnami-nginx/"; /* Replace PAGE_URL with your page's canonical URL variable */ this.page.identifier = "/blog/installing-or-removing-letsencrypt-ssl-certificate-bitnami-nginx"; /* Replace PAGE_IDENTIFIER with your page's unique identifier variable */ }; (function () { /* DON'T EDIT BELOW THIS LINE */ var d = document, s = d.createElement('script'); s.src = 'https://.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); </script> <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a> </noscript></div> </div> <div class="row"> <div class="col-md-4"> <div class="card"> <div class="card-header">About hack4r</div> <div class="card-body"> <p class="author_bio">A Platform built for Web Developers and Security Enthusiasts</p><!-- Place this tag where you want the github button to render. --> <a class="github-button" href="https://github.com/sujaykundu777/devlopr-jekyll" data-color-scheme="no-preference: dark; light: dark; dark: dark;" data-icon="octicon-star" data-size="large" data-show-count="true" aria-label="Star sujaykundu777/devlopr-jekyll on GitHub">Star</a> </div> </div> </div> <div class="col-md-4"> <div class="card"> <div class="card-header">Categories</div> <div class="card-body text-dark"> <div id="#jekyll"></div> <li class="tag-head"> <a href="/blog/categories/jekyll">jekyll</a> </li> <a name="jekyll"></a> <div id="#windows"></div> <li class="tag-head"> <a href="/blog/categories/windows">windows</a> </li> <a name="windows"></a> <div id="#ruby"></div> <li class="tag-head"> <a href="/blog/categories/ruby">ruby</a> </li> <a name="ruby"></a> <div id="#git"></div> <li class="tag-head"> <a href="/blog/categories/git">git</a> </li> <a name="git"></a> <div id="#docker"></div> <li class="tag-head"> <a href="/blog/categories/docker">docker</a> </li> <a name="docker"></a> <div id="#aws"></div> <li class="tag-head"> <a href="/blog/categories/aws">aws</a> </li> <a name="aws"></a> <div id="#nginx"></div> <li class="tag-head"> <a href="/blog/categories/nginx">nginx</a> </li> <a name="nginx"></a> <div id="#nodejs"></div> <li class="tag-head"> <a href="/blog/categories/nodejs">nodejs</a> </li> <a name="nodejs"></a> <div id="#express"></div> <li class="tag-head"> <a href="/blog/categories/express">express</a> </li> <a name="express"></a> <div id="#javascript"></div> <li class="tag-head"> <a href="/blog/categories/javascript">javascript</a> </li> <a name="javascript"></a> <div id="#linux"></div> <li class="tag-head"> <a href="/blog/categories/linux">linux</a> </li> <a name="linux"></a> <div id="#react"></div> <li class="tag-head"> <a href="/blog/categories/react">react</a> </li> <a name="react"></a> <div id="#node"></div> <li class="tag-head"> <a href="/blog/categories/node">node</a> </li> <a name="node"></a> <div id="#mongodb"></div> <li class="tag-head"> <a href="/blog/categories/mongodb">mongodb</a> </li> <a name="mongodb"></a> <div id="#wordpress"></div> <li class="tag-head"> <a href="/blog/categories/wordpress">wordpress</a> </li> <a name="wordpress"></a> <div id="#php"></div> <li class="tag-head"> <a href="/blog/categories/php">php</a> </li> <a name="php"></a> <div id="#mysql"></div> <li class="tag-head"> <a href="/blog/categories/mysql">mysql</a> </li> <a name="mysql"></a> <div id="#mariadb"></div> <li class="tag-head"> <a href="/blog/categories/mariadb">mariadb</a> </li> <a name="mariadb"></a> <div id="#ssl"></div> <li class="tag-head"> <a href="/blog/categories/ssl">ssl</a> </li> <a name="ssl"></a> <div id="#domain"></div> <li class="tag-head"> <a href="/blog/categories/domain">domain</a> </li> <a name="domain"></a> <div id="#blog"></div> <li class="tag-head"> <a href="/blog/categories/blog">blog</a> </li> <a name="blog"></a> <div id="#typescript"></div> <li class="tag-head"> <a href="/blog/categories/typescript">typescript</a> </li> <a name="typescript"></a> <div id="#graphql"></div> <li class="tag-head"> <a href="/blog/categories/graphql">graphql</a> </li> <a name="graphql"></a> <div id="#graphcms"></div> <li class="tag-head"> <a href="/blog/categories/graphcms">graphcms</a> </li> <a name="graphcms"></a> <div id="#bootstrap"></div> <li class="tag-head"> <a href="/blog/categories/bootstrap">bootstrap</a> </li> <a name="bootstrap"></a> <div id="#netlify"></div> <li class="tag-head"> <a href="/blog/categories/netlify">netlify</a> </li> <a name="netlify"></a> </div> </div> </div> <div class="col-md-4"> <div class="card"> <div class="card-header">Useful Links</div> <div class="card-body text-dark"> <li> <a href="/">Home</a> </li> <li> <a href="/blog">Blog</a> </li> </div> </div> </div> </div> </div> <div class="col-lg-12" id="newsletter_footer"><!-- Mailchimp Newletters --> <form action="https://sujaykundu.us10.list-manage.com/subscribe/post?u=50bab1c85eae24ecfb0f68361&amp;id=3a2dd721d0"method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate> <div id="mc_embed_signup_scroll_footer"> <label for="mce-EMAIL_footer"> Signup for Weekly Email Newsletters :D</label> <input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL_footer" placeholder="email address" required> <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups--> <div style="position: absolute; left: -5000px;" aria-hidden="true"> <input type="text" name="b_50bab1c85eae24ecfb0f68361_3a2dd721d0" tabindex="-1" value=""> </div><br /> <div class="clear"> <input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe_footer" class="btn btn-lg btn-success"> </div> </div> </div><footer> <p> Powered by<a href="https://github.com/sujaykundu777/devlopr-jekyll"> devlopr jekyll</a>. Subscribe via <a href=" /feed.xml ">RSS</a> </p> </footer> <script> var options = { classname: 'my-class', id: 'my-id' }; var nanobar = new Nanobar( options ); nanobar.go( 30 ); nanobar.go( 76 ); nanobar.go(100); </script> <div hidden id="snipcart" data-api-key="Y2I1NTAyNWYtMTNkMy00ODg0LWE4NDItNTZhYzUxNzJkZTI5NjM3MDI4NTUzNzYyMjQ4NzU0"></div> <script src="https://cdn.snipcart.com/themes/v3.0.0-beta.3/default/snipcart.js" defer></script> <!-- <script src="/assets/js/mode-switcher.js"></script> --> <script src="/assets/js/dark-mode.js"></script> <script> if (window.netlifyIdentity) { window.netlifyIdentity.on("init", user => { if (!user) { window.netlifyIdentity.on("login", () => { document.location.href = "/admin/"; }); } }); } </script> </body> </html>
